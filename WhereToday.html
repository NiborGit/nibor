<!DOCTYPE html>
<html lang="en">
<title>What I Do?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css"> 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">
<style>
* {
  box-sizing: border-box;
}
</style>
<script>
var currEntry=[];
var dataDate = new Date();
var areas = [{"name":"Email","image":"fa-envelope"},{"name":"Meeting","image":"fa-users"},
{"name":"Phone","image":"fa-mobile"},
{"name":"Coding","image":"fa-code"},
{"name":"Chat","image":"fa-comments"},
{"name":"Maintenance","image":"fa-wrench"},
{"name":"Urgent","image":"fa-first-aid"},
{"name":"Break","image":"fa-coffee"},
{"name":"Vacation","image":"fa-umbrella"},
{"name":"Travel","image":"fa-plane"},
{"name":"Ship","image":"fa-truck"},
{"name":"Training","image":"fa-chalkboard"}];
// u2328 keyboard
var times = [{"name":"15 min","image":"fa-clock","num":"15"},
{"name":"30 min","image":"fa-clock","num":"30"},
{"name":"1 hour","image":"fa-clock","num":"60"},
{"name":"2 hours","image":"fa-clock","num":"120"},
{"name":"Half Day","image":"fa-clock","num":"3600"},
{"name":"All Day","image":"fa-clock","num":"7200"}]
function showAreas(){          
    var obj = areas;
    document.getElementById("body").innerHTML = "";
    obj.forEach(function(doc, z) {
      var d = doc;
      var li = document.createElement("div");
      var t = document.createElement("div");
      t.className = "w3-large";
      var tm = document.createTextNode(d.name);
      t.appendChild(tm);
      li.className = "fas w3-theme w3-card w3-col s3 w3-padding-32 w3-center w3-xxxlarge w3-hover-teal " + d.image ;
      li.id = d.name;
      li.onclick = function(){ 
            var obj = this;
            var fobj = document.getElementById("fArea");
            fobj.value = obj.id                 
      		showTopics(); 
      };
      li.appendChild(t);        
      document.getElementById("body").appendChild(li);      
    });
}   
function showTopics(){          
    var obj = times;
    document.getElementById("body").innerHTML = "";
    obj.forEach(function(doc, z) {
      var d = doc;
      var li = document.createElement("div");
      var t = document.createElement("div");
      t.className = "w3-large w3-center";
      var tm = document.createTextNode(d.name);  
      t.appendChild(tm);
      li.id = d.name;
      li.className = "fas w3-theme w3-card w3-col s4 w3-padding-16 w3-left w3-xxxlarge w3-hover-teal " + d.image ;
      li.onclick = function(){ 
            var obj = this;
            var fobj = document.getElementById("fTopic");
            fobj.value = obj.id            
            document.getElementById("body").innerHTML = "";
            
            var aobj = document.getElementById("fArea");
            var strobj = {"topic":"","time":"","id":""};
            strobj.topic = aobj.value;
            strobj.time = obj.id;
            strobj.id = new Date().toISOString();
            currEntry.push(strobj);                        
            showEntry();
      };
      li.appendChild(t);        
      document.getElementById("body").appendChild(li);      
    });    
}   
function showFilter(){
   var obj = document.getElementById("fmFilter");
    obj.classList.toggle('w3-hide');
}
function showSearch(){
    var obj = document.getElementById("fmSearch");
     obj.classList.toggle('w3-hide');     
 }
function showCal(){
    var obj = document.getElementById("inputdate");
    obj.click();
    obj.classList.toggle('w3-hide');     
 }

function showEntry(){	    
    var cobj = currEntry;
    document.getElementById("body").innerHTML = "";
    cobj.forEach(function(doc) {                        
              var d = doc;
      		  var li = document.createElement("div");      		  
      		  li.className = "w3-container w3-large s6 w3-leftbar w3-animate-bottom ";
      		  li.innerHTML = "<div class='w3-left'>" 
                           + d.topic + "</div> "
                           + "<div class='w3-right'>" 
                           +  d.time+ "</div>";
             document.getElementById("body").appendChild(li);
     });              
}
function searchMe() {
  // Declare variables
  var input, filter, ul, li, a, i, txtValue;
  input = document.getElementById('search');
  filter = input.value.toUpperCase();
  ul = document.getElementById('body');
  li = ul.getElementsByTagName('div');
  // Loop through all list items, and hide those who don't match the search query
  for (i = 0; i < li.length; i++) {    
    txtValue = li[i].textContent || li[i].innerText;
    if (txtValue.toUpperCase().indexOf(filter) > -1) {
      li[i].style.display = "";
    } else {
      li[i].style.display = "none";
    }
  }
 } 
function setDate(){
	var obj = document.getElementById("inputdate");
    document.getElementById("foot").innerHTML = obj.value;
    dataDate = obj.value;
}
function setToday(){   
  var today = new Date();
  var dd = today.getDate();
  var mm = today.getMonth(); 
  var yyyy = today.getFullYear();
  if( dd < 10) { dd = '0'+dd }; 
  if( mm < 10) { mm = '0'+mm };
  today = yyyy + '-' + mm + '-' + dd;  
  document.getElementById("inputdate").value = today;   
  document.getElementById("foot").innerHTML = today;   
}
</script>
<body class="w3-green" onload="setToday();showAreas()">
<div class="w3-bar w3-theme">
  <a href="#" class="w3-bar-item w3-button w3-xlarge w3-green" onclick="showAreas();">
      <i class="fas fa-list"></i></a>
  <a href="#" class="w3-bar-item w3-button w3-xlarge" onclick="showAreas();">
      <i class="fas fa-arrow-left"></i></a>            
  <!--<a href="#" class="w3-bar-item w3-button  w3-xlarge w3-right"  onclick="showSearch();">
      <i class="fas fa-search"></i></a>   -->
<a href="#" class="w3-bar-item w3-button w3-large">
      <input class="w3-hide" id="inputdate" type="date" onchange="setDate()" ></a>                  
  <a href="#" class="w3-bar-item w3-button w3-xlarge" >
      <i id="logdate" class="fas fa-calendar" onclick="showCal();"></i></a> 
<a href="#" class="w3-bar-item w3-button w3-xlarge" >
        <i class="fas fa-calendar-times"></i></a>                   
  <a href="#" class="w3-bar-item w3-button w3-xlarge w3-right" onclick="showFilter();">
        <i class="fas fa-filter"></i></a>             
</div> 

<div class="w3-container w3-theme w3-hide" id="fmFilter">
<input class="w3-input w3-theme w3-hover-white" type="text" id="search" onkeyup="searchMe();" placeholder="Filter..."/> 
</div>
<div class="w3-container w3-theme w3-hide" id="fmSearch">
<input class="w3-input w3-theme w3-hover-white" type="text" id="searchAll" placeholder="Search..."/>           
</div> 
<div id="foot" class="w3-container w3-large s12 w3-leftbar w3-animate-left"></div>
<div id="body"></div>
<input type="hidden" id="fArea" value="" />
<input type="hidden" id="fTopic" value="" />

</body>
</html>
